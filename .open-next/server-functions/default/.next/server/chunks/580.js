exports.id=580,exports.ids=[580],exports.modules={6495:(a,b,c)=>{"use strict";c.d(b,{Dc:()=>k,HU:()=>l,MV:()=>j,X:()=>i,bg:()=>m});var d=c(67218);c(79130);var e=c(87593),f=c(55552),g=c(92775),h=c(17478);let i=async a=>{let b={...await (0,g.z5)()},c={...await (0,g.TW)("orders")};return e.x.client.fetch(`/store/orders/${a}`,{method:"GET",query:{fields:"*payment_collections.payments,*items,*items.metadata,*items.variant,*items.product"},headers:b,next:c,cache:"force-cache"}).then(({order:a})=>a).catch(a=>(0,f.A)(a))},j=async(a=10,b=0,c)=>{let d={...await (0,g.z5)()},h={...await (0,g.TW)("orders")};return e.x.client.fetch("/store/orders",{method:"GET",query:{limit:a,offset:b,order:"-created_at",fields:"*items,+items.metadata,*items.variant,*items.product",...c},headers:d,next:h,cache:"force-cache"}).then(({orders:a})=>a).catch(a=>(0,f.A)(a))},k=async(a,b)=>{let c=b.get("order_id");if(!c)return{success:!1,error:"Order ID is required",order:null};let d=await (0,g.z5)();return await e.x.store.order.requestTransfer(c,{},{fields:"id, email"},d).then(({order:a})=>({success:!0,error:null,order:a})).catch(a=>({success:!1,error:a.message,order:null}))},l=async(a,b)=>{let c=await (0,g.z5)();return await e.x.store.order.acceptTransfer(a,{token:b},{},c).then(({order:a})=>({success:!0,error:null,order:a})).catch(a=>({success:!1,error:a.message,order:null}))},m=async(a,b)=>{let c=await (0,g.z5)();return await e.x.store.order.declineTransfer(a,{token:b},{},c).then(({order:a})=>({success:!0,error:null,order:a})).catch(a=>({success:!1,error:a.message,order:null}))};(0,h.D)([i,j,k,l,m]),(0,d.A)(i,"7f8c595593148df586a3acc1e468cac5999cf0cba6",null),(0,d.A)(j,"7f9ec313a9294c9715047e93e5deb2c78a0b366e4c",null),(0,d.A)(k,"7f4352d8273590bb299b051269ef981cc8a056564e",null),(0,d.A)(l,"7faec9d298ef69cc4fb795c03328c2cc69c0a8733c",null),(0,d.A)(m,"7f3194f3723f55ed5c8e63ecac05c772c79128261a",null)},11665:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(61369);(0,d.registerClientReference)(function(){throw Error("Attempted to call LOGIN_VIEW() from the server but LOGIN_VIEW is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mistova/Documents/volja/my-medusa-store-storefront/src/modules/account/templates/login-template.tsx","LOGIN_VIEW");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mistova/Documents/volja/my-medusa-store-storefront/src/modules/account/templates/login-template.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mistova/Documents/volja/my-medusa-store-storefront/src/modules/account/templates/login-template.tsx","default")},32815:(a,b,c)=>{"use strict";c.d(b,{s:()=>o,default:()=>p});var d=c(60687),e=c(43210),f=c(50438),g=c(79114),h=c(70627),i=c(3553),j=c(6475);let k=(0,j.createServerReference)("60f140a889b3309a3797dc802713ded5943a736dda",j.callServer,void 0,j.findSourceMapURL,"signup"),l=({setCurrentView:a})=>{let[b,c]=(0,e.useActionState)(k,null);return(0,d.jsxs)("div",{className:"max-w-sm flex flex-col items-center","data-testid":"register-page",children:[(0,d.jsx)("h1",{className:"text-large-semi uppercase mb-6",children:"Become a Medusa Store Member"}),(0,d.jsx)("p",{className:"text-center text-base-regular text-ui-fg-base mb-4",children:"Create your Medusa Store Member profile, and get access to an enhanced shopping experience."}),(0,d.jsxs)("form",{className:"w-full flex flex-col",action:c,children:[(0,d.jsxs)("div",{className:"flex flex-col w-full gap-y-2",children:[(0,d.jsx)(f.A,{label:"First name",name:"first_name",required:!0,autoComplete:"given-name","data-testid":"first-name-input"}),(0,d.jsx)(f.A,{label:"Last name",name:"last_name",required:!0,autoComplete:"family-name","data-testid":"last-name-input"}),(0,d.jsx)(f.A,{label:"Email",name:"email",required:!0,type:"email",autoComplete:"email","data-testid":"email-input"}),(0,d.jsx)(f.A,{label:"Phone",name:"phone",type:"tel",autoComplete:"tel","data-testid":"phone-input"}),(0,d.jsx)(f.A,{label:"Password",name:"password",required:!0,type:"password",autoComplete:"new-password","data-testid":"password-input"})]}),(0,d.jsx)(g.A,{error:b,"data-testid":"register-error"}),(0,d.jsxs)("span",{className:"text-center text-ui-fg-base text-small-regular mt-6",children:["By creating an account, you agree to Medusa Store's"," ",(0,d.jsx)(i.default,{href:"/content/privacy-policy",className:"underline",children:"Privacy Policy"})," ","and"," ",(0,d.jsx)(i.default,{href:"/content/terms-of-use",className:"underline",children:"Terms of Use"}),"."]}),(0,d.jsx)(h.b,{className:"w-full mt-6","data-testid":"register-button",children:"Join"})]}),(0,d.jsxs)("span",{className:"text-center text-ui-fg-base text-small-regular mt-6",children:["Already a member?"," ",(0,d.jsx)("button",{onClick:()=>a(o.SIGN_IN),className:"underline",children:"Sign in"}),"."]})]})},m=(0,j.createServerReference)("60bc3c80cead2f630a028f976a106c253946091537",j.callServer,void 0,j.findSourceMapURL,"login"),n=({setCurrentView:a})=>{let[b,c]=(0,e.useActionState)(m,null);return(0,d.jsxs)("div",{className:"max-w-sm w-full flex flex-col items-center","data-testid":"login-page",children:[(0,d.jsx)("h1",{className:"text-large-semi uppercase mb-6",children:"Welcome back"}),(0,d.jsx)("p",{className:"text-center text-base-regular text-ui-fg-base mb-8",children:"Sign in to access an enhanced shopping experience."}),(0,d.jsxs)("form",{className:"w-full",action:c,children:[(0,d.jsxs)("div",{className:"flex flex-col w-full gap-y-2",children:[(0,d.jsx)(f.A,{label:"Email",name:"email",type:"email",title:"Enter a valid email address.",autoComplete:"email",required:!0,"data-testid":"email-input"}),(0,d.jsx)(f.A,{label:"Password",name:"password",type:"password",autoComplete:"current-password",required:!0,"data-testid":"password-input"})]}),(0,d.jsx)(g.A,{error:b,"data-testid":"login-error-message"}),(0,d.jsx)(h.b,{"data-testid":"sign-in-button",className:"w-full mt-6",children:"Sign in"})]}),(0,d.jsxs)("span",{className:"text-center text-ui-fg-base text-small-regular mt-6",children:["Not a member?"," ",(0,d.jsx)("button",{onClick:()=>a(o.REGISTER),className:"underline","data-testid":"register-button",children:"Join us"}),"."]})]})};var o=function(a){return a.SIGN_IN="sign-in",a.REGISTER="register",a}({});let p=()=>{let[a,b]=(0,e.useState)("sign-in");return(0,d.jsx)("div",{className:"w-full flex justify-start px-8 py-8",children:"sign-in"===a?(0,d.jsx)(n,{setCurrentView:b}):(0,d.jsx)(l,{setCurrentView:b})})}},34679:(a,b,c)=>{Promise.resolve().then(c.bind(c,32815))},50438:(a,b,c)=>{"use strict";c.d(b,{A:()=>k});var d=c(60687),e=c(86310),f=c(43210),g=c.n(f);let h=({size:a="20",color:b="currentColor",...c})=>(0,d.jsxs)("svg",{width:a,height:a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c,children:[(0,d.jsx)("path",{d:"M2.5 9.99992C2.5 9.99992 5.22727 4.58325 10 4.58325C14.7727 4.58325 17.5 9.99992 17.5 9.99992C17.5 9.99992 14.7727 15.4166 10 15.4166C5.22727 15.4166 2.5 9.99992 2.5 9.99992Z",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M9.99965 12.074C11.145 12.074 12.0735 11.1455 12.0735 10.0001C12.0735 8.85477 11.145 7.92627 9.99965 7.92627C8.85428 7.92627 7.92578 8.85477 7.92578 10.0001C7.92578 11.1455 8.85428 12.074 9.99965 12.074Z",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),i=({size:a="20",color:b="currentColor",...c})=>(0,d.jsxs)("svg",{width:a,height:a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c,children:[(0,d.jsx)("path",{d:"M8.56818 4.70906C9.0375 4.59921 9.518 4.54429 10 4.54543C14.7727 4.54543 17.5 9.99997 17.5 9.99997C17.0861 10.7742 16.5925 11.5032 16.0273 12.175M11.4455 11.4454C11.2582 11.6464 11.0324 11.8076 10.7815 11.9194C10.5306 12.0312 10.2597 12.0913 9.98506 12.0961C9.71042 12.101 9.43761 12.0505 9.18292 11.9476C8.92822 11.8447 8.69686 11.6916 8.50262 11.4973C8.30839 11.3031 8.15527 11.0718 8.05239 10.8171C7.94952 10.5624 7.899 10.2896 7.90384 10.0149C7.90869 9.74027 7.9688 9.46941 8.0806 9.2185C8.19239 8.9676 8.35358 8.74178 8.55455 8.55452M14.05 14.05C12.8845 14.9384 11.4653 15.4306 10 15.4545C5.22727 15.4545 2.5 9.99997 2.5 9.99997C3.34811 8.41945 4.52441 7.03857 5.95 5.94997L14.05 14.05Z",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M2.5 2.5L17.5 17.5",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),j=g().forwardRef(({type:a,name:b,label:c,touched:j,required:k,topLabel:l,...m},n)=>{let o=g().useRef(null),[p,q]=(0,f.useState)(!1),[r,s]=(0,f.useState)(a);return(0,f.useEffect)(()=>{"password"===a&&p&&s("text"),"password"!==a||p||s("password")},[a,p]),(0,f.useImperativeHandle)(n,()=>o.current),(0,d.jsxs)("div",{className:"flex flex-col w-full",children:[l&&(0,d.jsx)(e.Label,{className:"mb-2 txt-compact-medium-plus",children:l}),(0,d.jsxs)("div",{className:"flex relative z-0 w-full txt-compact-medium",children:[(0,d.jsx)("input",{type:r,name:b,placeholder:" ",required:k,className:"pt-4 pb-1 block w-full h-11 px-4 mt-0 bg-ui-bg-field border rounded-md appearance-none focus:outline-none focus:ring-0 focus:shadow-borders-interactive-with-active border-ui-border-base hover:bg-ui-bg-field-hover",...m,ref:o}),(0,d.jsxs)("label",{htmlFor:b,onClick:()=>o.current?.focus(),className:"flex items-center justify-center mx-3 px-1 transition-all absolute duration-300 top-3 -z-1 origin-0 text-ui-fg-subtle",children:[c,k&&(0,d.jsx)("span",{className:"text-rose-500",children:"*"})]}),"password"===a&&(0,d.jsx)("button",{type:"button",onClick:()=>q(!p),className:"text-ui-fg-subtle px-4 focus:outline-none transition-all duration-150 outline-none focus:text-ui-fg-base absolute right-0 top-3",children:p?(0,d.jsx)(h,{}):(0,d.jsx)(i,{})})]})]})});j.displayName="Input";let k=j},57075:(a,b,c)=>{"use strict";c.d(b,{$:()=>d});let d=({amount:a,currency_code:b,minimumFractionDigits:c,maximumFractionDigits:d,locale:e="en-US"})=>b&&!(a=>null==a||a instanceof Object&&0===Object.keys(a).length||Array.isArray(a)&&0===a.length||"string"==typeof a&&0===a.trim().length)(b)?new Intl.NumberFormat(e,{style:"currency",currency:b,minimumFractionDigits:c,maximumFractionDigits:d}).format(a):a.toString()},59728:(a,b,c)=>{"use strict";c.d(b,{m:()=>f});var d=c(61120),e=c(80191);let f=d.forwardRef(({className:a,...b},c)=>d.createElement("div",{ref:c,className:(0,e.E)("shadow-elevation-card-rest bg-ui-bg-base w-full rounded-lg px-6 py-4",a),...b}));f.displayName="Container"},60731:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(37413),e=c(11665);let f={title:"Sign in",description:"Sign in to your Medusa Store account."};function g(){return(0,d.jsx)(e.default,{})}},70627:(a,b,c)=>{"use strict";c.d(b,{b:()=>g});var d=c(60687),e=c(45768);c(43210);var f=c(51215);function g({children:a,variant:b="primary",className:c,"data-testid":g}){let{pending:h}=(0,f.useFormStatus)();return(0,d.jsx)(e.$,{size:"large",className:c,type:"submit",isLoading:h,variant:b||"primary","data-testid":g,children:a})}},74431:(a,b,c)=>{Promise.resolve().then(c.bind(c,11665))},76314:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"00a0da862c549de732d6cc2ff9ac6bcb1d0222a0a2":()=>f.iU,"00f45f0509b57766e94c32393bcd879c1d05dfa418":()=>d.dB,"40066962d3d2830f83cd750bbccf9085f0dc08cef1":()=>d.JZ,"40238b9544baed8375edb3e1a78ede99ac8e87a501":()=>d.iH,"4069cb33efe6c9b095947954f3e47306f17b91443b":()=>d.wH,"4076b627566330a88090027c4e87d738612398ffb3":()=>d.E1,"408298a5139dc4c69fe2a3db743588ed639e19e4e8":()=>d.Dq,"40a27af199a08d843cdb0f276c3f5b11fc5d1e0cfe":()=>d.bE,"40a5d67e5973c44bbff1e8b03644c087f609794012":()=>d.N$,"40ba80cb270c4f4929c7281cae47ac41d22df7154a":()=>d.iN,"40d4a6d1e9d5fee248e95293b2fdb505b15a3d5324":()=>d.xe,"40da7f72bf84659ca452f93cf3de16f0916ca428ec":()=>d.Zy,"40e8c4f8af5606f3821a9ab3b707a056c8a8c42ca6":()=>d.U3,"40f56b241269deffc08c7b9cbe62024f0128962989":()=>f.S6,"602bfebb42a95f46d23e8344556e82214b10034f7e":()=>d.oX,"604ff86e0355b4e608821aea14fd0931b19792b873":()=>d.PF,"60a23fba2b4ec252be1bb3f7f0231dd87f4647acfa":()=>d.M7,"60a2565f91653c572be0ac14a16eea3103fb4a29e3":()=>d.KG,"60bc3c80cead2f630a028f976a106c253946091537":()=>f.iD,"60eb2c92d233043215255543c2ca77a6e7ef65f93c":()=>d.ZM,"60f140a889b3309a3797dc802713ded5943a736dda":()=>f.$5,"7f07a3cce34c5dc1adf5a70abb018661aecf35bf59":()=>g.Tp,"7f0ba413b5fb248f69cd8a949270989a0dbcaa6685":()=>f.Gk,"7f0df710ef808a268a80eda96780758a85a257a8c8":()=>f._t,"7f3194f3723f55ed5c8e63ecac05c772c79128261a":()=>h.bg,"7f33cad0168925b99a8469faad6679429753126fd5":()=>g.IM,"7f41730022b8536766fc19f930131e826de2cf7417":()=>f.O_,"7f4352d8273590bb299b051269ef981cc8a056564e":()=>h.Dc,"7f7d8ccabaccfc8b7b60b9c412655cd9c76961f19f":()=>e.JN,"7f884ee432d4ac0d2473b2ce4faf2b411c7e14c293":()=>f.fx,"7f8c595593148df586a3acc1e468cac5999cf0cba6":()=>h.X,"7f9ec313a9294c9715047e93e5deb2c78a0b366e4c":()=>h.MV,"7fa956b28a9946747bdaeee28cab91757fd059f4a9":()=>f.YF,"7faec9d298ef69cc4fb795c03328c2cc69c0a8733c":()=>h.HU,"7fba67c8c0edacb370b90222262f96721ff1798477":()=>e.Nc,"7fc2a7f96d7fb559ac19898aaf18a47207851673f4":()=>e.OZ,"7fc89e2189e54b2e5c8d056d7fa5e5040687877ceb":()=>g.gn});var d=c(97868),e=c(75161),f=c(84578),g=c(81881),h=c(6495)},79114:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(60687);let e=({error:a,"data-testid":b})=>a?(0,d.jsx)("div",{className:"pt-2 text-rose-500 text-small-regular","data-testid":b,children:(0,d.jsx)("span",{children:a})}):null},90383:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>o,metadata:()=>n});var d=c(37413),e=c(59728),f=c(99642),g=c(22979),h=c(57075);let i=a=>{let b=0;return a?(a.email&&b++,a.first_name&&a.last_name&&b++,a.phone&&b++,a.addresses?.find(a=>a.is_default_billing)&&b++,b/4*100):0},j=({customer:a,orders:b})=>(0,d.jsx)("div",{"data-testid":"overview-page-wrapper",children:(0,d.jsxs)("div",{className:"hidden small:block",children:[(0,d.jsxs)("div",{className:"text-xl-semi flex justify-between items-center mb-4",children:[(0,d.jsxs)("span",{"data-testid":"welcome-message","data-value":a?.first_name,children:["Hello ",a?.first_name]}),(0,d.jsxs)("span",{className:"text-small-regular text-ui-fg-base",children:["Signed in as:"," ",(0,d.jsx)("span",{className:"font-semibold","data-testid":"customer-email","data-value":a?.email,children:a?.email})]})]}),(0,d.jsx)("div",{className:"flex flex-col py-8 border-t border-gray-200",children:(0,d.jsxs)("div",{className:"flex flex-col gap-y-4 h-full col-span-1 row-span-2 flex-1",children:[(0,d.jsxs)("div",{className:"flex items-start gap-x-16 mb-6",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,d.jsx)("h3",{className:"text-large-semi",children:"Profile"}),(0,d.jsxs)("div",{className:"flex items-end gap-x-2",children:[(0,d.jsxs)("span",{className:"text-3xl-semi leading-none","data-testid":"customer-profile-completion","data-value":i(a),children:[i(a),"%"]}),(0,d.jsx)("span",{className:"uppercase text-base-regular text-ui-fg-subtle",children:"Completed"})]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,d.jsx)("h3",{className:"text-large-semi",children:"Addresses"}),(0,d.jsxs)("div",{className:"flex items-end gap-x-2",children:[(0,d.jsx)("span",{className:"text-3xl-semi leading-none","data-testid":"addresses-count","data-value":a?.addresses?.length||0,children:a?.addresses?.length||0}),(0,d.jsx)("span",{className:"uppercase text-base-regular text-ui-fg-subtle",children:"Saved"})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,d.jsx)("div",{className:"flex items-center gap-x-2",children:(0,d.jsx)("h3",{className:"text-large-semi",children:"Recent orders"})}),(0,d.jsx)("ul",{className:"flex flex-col gap-y-4","data-testid":"orders-wrapper",children:b&&b.length>0?b.slice(0,5).map(a=>(0,d.jsx)("li",{"data-testid":"order-wrapper","data-value":a.id,children:(0,d.jsx)(g.default,{href:`/account/orders/details/${a.id}`,children:(0,d.jsxs)(e.m,{className:"bg-gray-50 flex justify-between items-center p-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 grid-rows-2 text-small-regular gap-x-4 flex-1",children:[(0,d.jsx)("span",{className:"font-semibold",children:"Date placed"}),(0,d.jsx)("span",{className:"font-semibold",children:"Order number"}),(0,d.jsx)("span",{className:"font-semibold",children:"Total amount"}),(0,d.jsx)("span",{"data-testid":"order-created-date",children:new Date(a.created_at).toDateString()}),(0,d.jsxs)("span",{"data-testid":"order-id","data-value":a.display_id,children:["#",a.display_id]}),(0,d.jsx)("span",{"data-testid":"order-amount",children:(0,h.$)({amount:a.total,currency_code:a.currency_code})})]}),(0,d.jsxs)("button",{className:"flex items-center justify-between","data-testid":"open-order-button",children:[(0,d.jsxs)("span",{className:"sr-only",children:["Go to order #",a.display_id]}),(0,d.jsx)(f.A,{className:"-rotate-90"})]})]})})},a.id)):(0,d.jsx)("span",{"data-testid":"no-orders-message",children:"No recent orders"})})]})]})})]})});var k=c(39916),l=c(84578),m=c(6495);let n={title:"Account",description:"Overview of your account activity."};async function o(){let a=await (0,l.fx)().catch(()=>null),b=await (0,m.MV)().catch(()=>null)||null;return a||(0,k.notFound)(),(0,d.jsx)(j,{customer:a,orders:b})}},99642:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(37413);c(61120);let e=({size:a="16",color:b="currentColor",...c})=>(0,d.jsx)("svg",{width:a,height:a,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c,children:(0,d.jsx)("path",{d:"M4 6L8 10L12 6",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}};