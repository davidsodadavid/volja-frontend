"use strict";exports.id=604,exports.ids=[604],exports.modules={4224:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(60687),e=c(74869),f=c(45223);let g=({item:a,style:b="default",currencyCode:c})=>{let{total:g,original_total:h}=a,i=g<h,j=Math.round((h-g)/h*100);return(0,d.jsxs)("div",{className:"flex flex-col text-ui-fg-muted justify-center h-full",children:[i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:["default"===b&&(0,d.jsx)("span",{className:"text-ui-fg-muted",children:"Original: "}),(0,d.jsx)("span",{className:"line-through","data-testid":"product-unit-original-price",children:(0,e.$)({amount:h/a.quantity,currency_code:c})})]}),"default"===b&&(0,d.jsxs)("span",{className:"text-ui-fg-interactive",children:["-",j,"%"]})]}),(0,d.jsx)("span",{className:(0,f.E)("text-base-regular",{"text-ui-fg-interactive":i}),"data-testid":"product-unit-price",children:(0,e.$)({amount:g/a.quantity,currency_code:c})})]})}},31397:(a,b,c)=>{c.d(b,{default:()=>f});var d=c(60687),e=c(74869);c(43210);let f=({totals:a})=>{let{currency_code:b,total:c,subtotal:f,tax_total:g,discount_total:h,gift_card_total:i,shipping_subtotal:j}=a;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex flex-col gap-y-2 txt-medium text-ui-fg-subtle ",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"flex gap-x-1 items-center",children:"Subtotal (excl. shipping and taxes)"}),(0,d.jsx)("span",{"data-testid":"cart-subtotal","data-value":f||0,children:(0,e.$)({amount:f??0,currency_code:b})})]}),!!h&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{children:"Discount"}),(0,d.jsxs)("span",{className:"text-ui-fg-interactive","data-testid":"cart-discount","data-value":h||0,children:["-"," ",(0,e.$)({amount:h??0,currency_code:b})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{children:"Shipping"}),(0,d.jsx)("span",{"data-testid":"cart-shipping","data-value":j||0,children:(0,e.$)({amount:j??0,currency_code:b})})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"flex gap-x-1 items-center ",children:"Taxes"}),(0,d.jsx)("span",{"data-testid":"cart-taxes","data-value":g||0,children:(0,e.$)({amount:g??0,currency_code:b})})]}),!!i&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{children:"Gift card"}),(0,d.jsxs)("span",{className:"text-ui-fg-interactive","data-testid":"cart-gift-card-amount","data-value":i||0,children:["-"," ",(0,e.$)({amount:i??0,currency_code:b})]})]})]}),(0,d.jsx)("div",{className:"h-px w-full border-b border-gray-200 my-4"}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-ui-fg-base mb-2 txt-medium ",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsx)("span",{className:"txt-xlarge-plus","data-testid":"cart-total","data-value":c||0,children:(0,e.$)({amount:c??0,currency_code:b})})]}),(0,d.jsx)("div",{className:"h-px w-full border-b border-gray-200 mt-4"})]})}},39064:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(60687),e=c(45223);let f=({className:a})=>(0,d.jsx)("div",{className:(0,e.E)("h-px w-full border-b border-gray-200 mt-1",a)})},44834:(a,b,c)=>{c.d(b,{E:()=>j,n:()=>h});var d=c(51267),e=c(53289),f=c(43210),g=c(45223);let h=(0,d.Fj)({variants:{color:{green:"bg-ui-tag-green-bg text-ui-tag-green-text [&_svg]:text-ui-tag-green-icon border-ui-tag-green-border",red:"bg-ui-tag-red-bg text-ui-tag-red-text [&_svg]:text-ui-tag-red-icon border-ui-tag-red-border",blue:"bg-ui-tag-blue-bg text-ui-tag-blue-text [&_svg]:text-ui-tag-blue-icon border-ui-tag-blue-border",orange:"bg-ui-tag-orange-bg text-ui-tag-orange-text [&_svg]:text-ui-tag-orange-icon border-ui-tag-orange-border",grey:"bg-ui-tag-neutral-bg text-ui-tag-neutral-text [&_svg]:text-ui-tag-neutral-icon border-ui-tag-neutral-border",purple:"bg-ui-tag-purple-bg text-ui-tag-purple-text [&_svg]:text-ui-tag-purple-icon border-ui-tag-purple-border"}},defaultVariants:{color:"grey"}}),i=(0,d.Fj)({base:"inline-flex items-center gap-x-0.5 border box-border",variants:{size:{"2xsmall":"txt-compact-xsmall-plus h-5",xsmall:"txt-compact-xsmall-plus py-px h-6",small:"txt-compact-xsmall-plus py-[3px] h-7",base:"txt-compact-small-plus py-[5px] h-8",large:"txt-compact-medium-plus py-[7px] h-10"},rounded:{base:"rounded-md",full:"rounded-full"}},compoundVariants:[{size:"2xsmall",rounded:"full",className:"px-1.5"},{size:"2xsmall",rounded:"base",className:"px-1"},{size:"xsmall",rounded:"full",className:"px-2"},{size:"xsmall",rounded:"base",className:"px-1.5"},{size:"small",rounded:"full",className:"px-2.5"},{size:"small",rounded:"base",className:"px-2"},{size:"base",rounded:"full",className:"px-3"},{size:"base",rounded:"base",className:"px-2.5"},{size:"large",rounded:"full",className:"px-3.5"},{size:"large",rounded:"base",className:"px-3"}],defaultVariants:{size:"base",rounded:"base"}}),j=f.forwardRef(({className:a,size:b="base",rounded:c="base",color:d="grey",asChild:j=!1,...k},l)=>{let m=j?e.bL:"span";return f.createElement(m,{ref:l,className:(0,g.E)(h({color:d}),i({size:b,rounded:c}),a),...k})});j.displayName="Badge"},57494:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(37413),e=c(80191);let f=({className:a})=>(0,d.jsx)("div",{className:(0,e.E)("h-px w-full border-b border-gray-200 mt-1",a)})},61812:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(60687);c(43210);let e=({size:a="16",color:b="currentColor",...c})=>(0,d.jsx)("svg",{width:a,height:a,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c,children:(0,d.jsx)("path",{d:"M4 6L8 10L12 6",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},70627:(a,b,c)=>{c.d(b,{b:()=>g});var d=c(60687),e=c(45768);c(43210);var f=c(51215);function g({children:a,variant:b="primary",className:c,"data-testid":g}){let{pending:h}=(0,f.useFormStatus)();return(0,d.jsx)(e.$,{size:"large",className:c,type:"submit",isLoading:h,variant:b||"primary","data-testid":g,children:a})}},75235:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(60687);c(43210);let e=({size:a="16",color:b="currentColor",...c})=>(0,d.jsxs)("svg",{className:"animate-spin",width:a,height:a,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...c,children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:b,strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:b,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},79114:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(60687);let e=({error:a,"data-testid":b})=>a?(0,d.jsx)("div",{className:"pt-2 text-rose-500 text-small-regular","data-testid":b,children:(0,d.jsx)("span",{children:a})}):null},83176:(a,b,c)=>{c.d(b,{default:()=>s});var d=c(60687),e=c(86310),f=c(59620),g=c(59802),h=c(17186),i=c(44834),j=c(43210),k=c.n(j),l=c(6475);let m=(0,l.createServerReference)("40da7f72bf84659ca452f93cf3de16f0916ca428ec",l.callServer,void 0,l.findSourceMapURL,"applyPromotions"),n=(0,l.createServerReference)("602bfebb42a95f46d23e8344556e82214b10034f7e",l.callServer,void 0,l.findSourceMapURL,"submitPromotionForm");var o=c(74869);let p=({size:a="16",color:b="currentColor",...c})=>(0,d.jsxs)("svg",{width:a,height:a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c,children:[(0,d.jsx)("path",{d:"M3.33301 5.49054H4.81449H16.6663",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M7.14286 5.5V4C7.14286 3.60218 7.29337 3.22064 7.56128 2.93934C7.82919 2.65804 8.19255 2.5 8.57143 2.5H11.4286C11.8075 2.5 12.1708 2.65804 12.4387 2.93934C12.7066 3.22064 12.8571 3.60218 12.8571 4V5.5M15 5.5V16C15 16.3978 14.8495 16.7794 14.5816 17.0607C14.3137 17.342 13.9503 17.5 13.5714 17.5H6.42857C6.04969 17.5 5.68633 17.342 5.41842 17.0607C5.15051 16.7794 5 16.3978 5 16V5.5H15Z",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M8.33203 9.23724V13.4039",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M11.666 9.23724V13.4039",stroke:b,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});var q=c(79114),r=c(70627);let s=({cart:a})=>{let[b,c]=k().useState(!1),{items:l=[],promotions:s=[]}=a,t=async a=>{let b=s.filter(b=>b.code!==a);await m(b.filter(a=>void 0===a.code).map(a=>a.code))},u=async a=>{let b=a.get("code");if(!b)return;let c=document.getElementById("promotion-input"),d=s.filter(a=>void 0===a.code).map(a=>a.code);d.push(b.toString()),await m(d),c&&(c.value="")},[v,w]=(0,j.useActionState)(n,null);return(0,d.jsx)("div",{className:"w-full bg-white flex flex-col",children:(0,d.jsxs)("div",{className:"txt-medium",children:[(0,d.jsxs)("form",{action:a=>u(a),className:"w-full mb-5",children:[(0,d.jsx)(e.Label,{className:"flex gap-x-1 my-2 items-center",children:(0,d.jsx)("button",{onClick:()=>c(!b),type:"button",className:"txt-medium text-ui-fg-interactive hover:text-ui-fg-interactive-hover","data-testid":"add-discount-button",children:"Add Promotion Code(s)"})}),b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex w-full gap-x-2",children:[(0,d.jsx)(f.Input,{className:"size-full",id:"promotion-input",name:"code",type:"text",autoFocus:!1,"data-testid":"discount-input"}),(0,d.jsx)(r.b,{variant:"secondary","data-testid":"discount-apply-button",children:"Apply"})]}),(0,d.jsx)(q.A,{error:v,"data-testid":"discount-error-message"})]})]}),s.length>0&&(0,d.jsx)("div",{className:"w-full flex items-center",children:(0,d.jsxs)("div",{className:"flex flex-col w-full",children:[(0,d.jsx)(g.D,{className:"txt-medium mb-2",children:"Promotion(s) applied:"}),s.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between w-full max-w-full mb-2","data-testid":"discount-row",children:[(0,d.jsx)(h.E,{className:"flex gap-x-1 items-baseline txt-small-plus w-4/5 pr-1",children:(0,d.jsxs)("span",{className:"truncate","data-testid":"discount-code",children:[(0,d.jsx)(i.E,{color:a.is_automatic?"green":"grey",size:"small",children:a.code})," ","(",a.application_method?.value!==void 0&&void 0!==a.application_method.currency_code&&(0,d.jsx)(d.Fragment,{children:"percentage"===a.application_method.type?`${a.application_method.value}%`:(0,o.$)({amount:a.application_method.value,currency_code:a.application_method.currency_code})}),")"]})}),!a.is_automatic&&(0,d.jsxs)("button",{className:"flex items-center",onClick:()=>{a.code&&t(a.code)},"data-testid":"remove-discount-button",children:[(0,d.jsx)(p,{size:14}),(0,d.jsx)("span",{className:"sr-only",children:"Remove discount code from order"})]})]},a.id))]})})]})})}},87807:(a,b,c)=>{c.d(b,{default:()=>z});var d=c(60687),e=c(60054),f=c(45223),g=c(17186),h=c(6475);let i=(0,h.createServerReference)("40d4a6d1e9d5fee248e95293b2fdb505b15a3d5324",h.callServer,void 0,h.findSourceMapURL,"updateLineItem");var j=c(51267),k=c(53289),l=c(43210),m=c(44834);let n=(0,j.Fj)({base:"flex items-center justify-center overflow-hidden rounded-md border",variants:{size:{base:"h-6 w-6",large:"h-7 w-7"}}}),o=l.forwardRef(({children:a,className:b,color:c="grey",size:d="base",asChild:e=!1,...g},h)=>{let i=e?k.bL:"span";return l.createElement(i,{ref:h,className:(0,f.E)((0,m.n)({color:c}),n({size:d}),b),...g},a)});o.displayName="IconBadge";var p=c(61812);let q=(0,l.forwardRef)(({placeholder:a="Select...",className:b,children:c,...e},g)=>{let h=(0,l.useRef)(null),[i,j]=(0,l.useState)(!1);return(0,l.useImperativeHandle)(g,()=>h.current),(0,l.useEffect)(()=>{h.current&&""===h.current.value?j(!0):j(!1)},[h.current?.value]),(0,d.jsx)("div",{children:(0,d.jsxs)(o,{onFocus:()=>h.current?.focus(),onBlur:()=>h.current?.blur(),className:(0,f.E)("relative flex items-center txt-compact-small border text-ui-fg-base group",b,{"text-ui-fg-subtle":i}),children:[(0,d.jsxs)("select",{ref:h,...e,className:"appearance-none bg-transparent border-none px-4 transition-colors duration-150 focus:border-gray-700 outline-none w-16 h-16 items-center justify-center",children:[(0,d.jsx)("option",{disabled:!0,value:"",children:a}),c]}),(0,d.jsx)("span",{className:"absolute flex pointer-events-none justify-end w-8 group-hover:animate-pulse",children:(0,d.jsx)(p.A,{})})]})})});q.displayName="CartItemSelect";var r=c(79114),s=c(17623),t=c(50160),u=c(25281),v=c(4224),w=c(3553),x=c(75235),y=c(12115);let z=({item:a,type:b="full",currencyCode:c})=>{let[h,j]=(0,l.useState)(!1),[k,m]=(0,l.useState)(null),n=async b=>{m(null),j(!0),await i({lineId:a.id,quantity:b}).catch(a=>{m(a.message)}).finally(()=>{j(!1)})},o=(a.variant?.manage_inventory,10);return(0,d.jsxs)(e.X.Row,{className:"w-full","data-testid":"product-row",children:[(0,d.jsx)(e.X.Cell,{className:"!pl-0 p-4 w-24",children:(0,d.jsx)(w.default,{href:`/products/${a.product_handle}`,className:(0,f.E)("flex",{"w-16":"preview"===b,"small:w-24 w-12":"full"===b}),children:(0,d.jsx)(y.A,{thumbnail:a.thumbnail,images:a.variant?.product?.images,size:"square"})})}),(0,d.jsxs)(e.X.Cell,{className:"text-left",children:[(0,d.jsx)(g.E,{className:"txt-medium-plus text-ui-fg-base","data-testid":"product-title",children:a.product_title}),(0,d.jsx)(t.A,{variant:a.variant,"data-testid":"product-variant"})]}),"full"===b&&(0,d.jsxs)(e.X.Cell,{children:[(0,d.jsxs)("div",{className:"flex gap-2 items-center w-28",children:[(0,d.jsx)(s.A,{id:a.id,"data-testid":"product-delete-button"}),(0,d.jsxs)(q,{value:a.quantity,onChange:a=>n(parseInt(a.target.value)),className:"w-14 h-10 p-4","data-testid":"product-select-button",children:[Array.from({length:Math.min(o,10)},(a,b)=>(0,d.jsx)("option",{value:b+1,children:b+1},b)),(0,d.jsx)("option",{value:1,children:"1"},1)]}),h&&(0,d.jsx)(x.A,{})]}),(0,d.jsx)(r.A,{error:k,"data-testid":"product-error-message"})]}),"full"===b&&(0,d.jsx)(e.X.Cell,{className:"hidden small:table-cell",children:(0,d.jsx)(v.A,{item:a,style:"tight",currencyCode:c})}),(0,d.jsx)(e.X.Cell,{className:"!pr-0",children:(0,d.jsxs)("span",{className:(0,f.E)("!pr-0",{"flex flex-col items-end h-full justify-center":"preview"===b}),children:["preview"===b&&(0,d.jsxs)("span",{className:"flex gap-x-1 ",children:[(0,d.jsxs)(g.E,{className:"text-ui-fg-muted",children:[a.quantity,"x "]}),(0,d.jsx)(v.A,{item:a,style:"tight",currencyCode:c})]}),(0,d.jsx)(u.A,{item:a,style:"tight",currencyCode:c})]})})]})}}};